<!DOCTYPE html>
<html>
<head>
    <title>ë°”ë‚˜ë‚˜ íˆì–´ë¡œì˜ ëª¨í—˜ - ì²´í¬ë¦¬ìŠ¤íŠ¸ í”„ë¡œì íŠ¸</title>
    <style>
        body { 
            margin: 0; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Arial', sans-serif;
        }
        
        #projectContainer {
            text-align: center;
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            border: 3px solid #3498db;
        }
        
        #projectTitle {
            color: #2c3e50;
            margin: 0 0 20px 0;
            font-size: 24px;
            font-weight: bold;
        }
        
        #gameCanvas { 
            border: 2px solid #2c3e50; 
            background: #87ceeb;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        #statusPanel {
            margin: 15px 0;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            text-align: center;
        }
        
        .status-item {
            background: #ecf0f1;
            padding: 10px;
            border-radius: 8px;
            border: 2px solid #bdc3c7;
        }
        
        .status-value {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .status-label {
            font-size: 12px;
            color: #7f8c8d;
            margin-top: 5px;
        }
        
        #progressBar {
            width: 100%;
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            margin: 15px 0;
            overflow: hidden;
            border: 2px solid #bdc3c7;
        }
        
        #progressFill {
            height: 100%;
            background: linear-gradient(90deg, #2ecc71, #27ae60);
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }
        
        #phaseInfo {
            margin: 10px 0;
            padding: 10px;
            background: #3498db;
            color: white;
            border-radius: 6px;
            font-weight: bold;
        }
        
        #controls {
            margin: 15px 0;
            font-size: 14px;
            color: #2c3e50;
            background: #ecf0f1;
            padding: 10px;
            border-radius: 6px;
            border-left: 4px solid #3498db;
        }
        
        .checkpoint {
            background: #2ecc71;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            margin: 2px;
            display: inline-block;
        }
        
        .checkpoint.incomplete {
            background: #95a5a6;
        }
        
        #timerDisplay {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(52, 73, 94, 0.9);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div id="timerDisplay">â±ï¸ 00:00</div>
    
    <div id="projectContainer">
        <h1 id="projectTitle">ğŸ“‹ ë°”ë‚˜ë‚˜ íˆì–´ë¡œ í”„ë¡œì íŠ¸ ê´€ë¦¬</h1>
        
        <div id="statusPanel">
            <div class="status-item">
                <div class="status-value" id="scoreValue">0</div>
                <div class="status-label">ì´ ì ìˆ˜</div>
            </div>
            <div class="status-item">
                <div class="status-value" id="phaseValue">1/6</div>
                <div class="status-label">ì§„í–‰ ë‹¨ê³„</div>
            </div>
            <div class="status-item">
                <div class="status-value" id="checkpointValue">0/9</div>
                <div class="status-label">ì™„ë£Œ ì²´í¬í¬ì¸íŠ¸</div>
            </div>
        </div>
        
        <div id="progressBar">
            <div id="progressFill">Phase 1 ì‹œì‘</div>
        </div>
        
        <div id="phaseInfo">ğŸ¯ Phase 1: í”„ë¡œì íŠ¸ ì„¤ì • - ê²Œì„ì´ ì‹¤í–‰ë˜ëŠ” ë¹ˆ í™”ë©´ ë§Œë“¤ê¸°</div>
        
        <canvas id="game" width="800" height="400"></canvas>
        
        <div id="controls">
            <strong>ğŸ“‹ ì¡°ì‘ë²•:</strong> â† â†’ ì´ë™ | ìŠ¤í˜ì´ìŠ¤ ì í”„ | Z ë°”ë‚˜ë‚˜ ë°œì‚¬ | R ì¬ì‹œì‘<br>
            <strong>ğŸ¯ í˜„ì¬ ëª©í‘œ:</strong> <span id="currentObjective">ê²Œì„ í™”ë©´ì´ ì •ìƒì ìœ¼ë¡œ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸</span>
        </div>
        
        <div id="checkpoints">
            <div class="checkpoint incomplete" id="checkpoint1">âœ… í™”ë©´ í‘œì‹œ</div>
            <div class="checkpoint incomplete" id="checkpoint2">âœ… ìºë¦­í„° ìƒì„±</div>
            <div class="checkpoint incomplete" id="checkpoint3">âœ… ì´ë™ êµ¬í˜„</div>
            <div class="checkpoint incomplete" id="checkpoint4">âœ… ì í”„ ì‹œìŠ¤í…œ</div>
            <div class="checkpoint incomplete" id="checkpoint5">âœ… ë°”ë‚˜ë‚˜ ë°œì‚¬</div>
            <div class="checkpoint incomplete" id="checkpoint6">âœ… ì  ìƒì„±</div>
            <div class="checkpoint incomplete" id="checkpoint7">âœ… ì¶©ëŒ ê°ì§€</div>
            <div class="checkpoint incomplete" id="checkpoint8">âœ… ì ìˆ˜ ì‹œìŠ¤í…œ</div>
            <div class="checkpoint incomplete" id="checkpoint9">âœ… ê²Œì„ ì™„ì„±</div>
        </div>
    </div>

    <script>
        // ğŸ“‹ í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ ì‹œì‘
        console.log("ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸ í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ ì‹œì‘!");
        console.log("ğŸ¯ ëª©í‘œ: ì²´ê³„ì ì¸ ë‹¨ê³„ë³„ ì§„í–‰ìœ¼ë¡œ ì™„ë²½í•œ ê²Œì„ ì™„ì„±");
        
        const canvas = document.getElementById('game');
        const ctx = canvas.getContext('2d');
        
        // ğŸ“Š í”„ë¡œì íŠ¸ ì§„í–‰ ìƒíƒœ ê´€ë¦¬
        let projectState = {
            currentPhase: 1,
            totalPhases: 6,
            completedCheckpoints: 0,
            totalCheckpoints: 9,
            score: 0,
            startTime: Date.now(),
            phaseStartTime: Date.now(),
            gameOver: false,
            projectComplete: false
        };

        // ğŸ“‹ ì²´í¬í¬ì¸íŠ¸ ì‹œìŠ¤í…œ
        const checkpoints = [
            { id: 1, name: "í™”ë©´ í‘œì‹œ", phase: 1, completed: false },
            { id: 2, name: "ìºë¦­í„° ìƒì„±", phase: 2, completed: false },
            { id: 3, name: "ì´ë™ êµ¬í˜„", phase: 3, completed: false },
            { id: 4, name: "ì í”„ ì‹œìŠ¤í…œ", phase: 3, completed: false },
            { id: 5, name: "ë°”ë‚˜ë‚˜ ë°œì‚¬", phase: 4, completed: false },
            { id: 6, name: "ì  ìƒì„±", phase: 5, completed: false },
            { id: 7, name: "ì¶©ëŒ ê°ì§€", phase: 5, completed: false },
            { id: 8, name: "ì ìˆ˜ ì‹œìŠ¤í…œ", phase: 6, completed: false },
            { id: 9, name: "ê²Œì„ ì™„ì„±", phase: 6, completed: false }
        ];

        // ğŸ“‹ ë‹¨ê³„ë³„ ëª©í‘œ ì„¤ëª…
        const phaseObjectives = [
            "ê²Œì„ í™”ë©´ì´ ì •ìƒì ìœ¼ë¡œ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸",
            "ì›ìˆ­ì´ ìºë¦­í„°ê°€ í™”ë©´ì— ì˜¬ë°”ë¥´ê²Œ ê·¸ë ¤ì§€ëŠ”ì§€ í™•ì¸",
            "í™”ì‚´í‘œí‚¤ë¡œ ì¢Œìš° ì´ë™ê³¼ ìŠ¤í˜ì´ìŠ¤ë°” ì í”„ê°€ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸",
            "Zí‚¤ë¡œ ë°”ë‚˜ë‚˜ë¥¼ ë°œì‚¬í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸",
            "ì ì´ ìë™ ìƒì„±ë˜ê³  ë°”ë‚˜ë‚˜ ì¶©ëŒ ì‹œ ì œê±°ë˜ëŠ”ì§€ í™•ì¸",
            "ì ìˆ˜ ì‹œìŠ¤í…œê³¼ ê²Œì„ ì˜¤ë²„ ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸"
        ];

        // ğŸ® ê²Œì„ ê°ì²´ë“¤
        const player = {
            x: 100,
            y: 300,
            width: 50,
            height: 50,
            color: '#8B4513',
            velocityY: 0,
            isJumping: false,
            groundY: 300,
            speed: 5
        };

        let bananas = [];
        let enemies = [];
        const keys = {};

        // âŒ¨ï¸ í‚¤ë³´ë“œ ì…ë ¥ ì²˜ë¦¬
        document.addEventListener('keydown', (e) => {
            keys[e.key] = true;
            
            // ë°”ë‚˜ë‚˜ ë°œì‚¬
            if ((e.key === 'z' || e.key === 'Z') && !projectState.gameOver) {
                createBanana();
                completeCheckpoint(5); // ë°”ë‚˜ë‚˜ ë°œì‚¬ ì²´í¬í¬ì¸íŠ¸
            }
            
            // ê²Œì„ ì¬ì‹œì‘
            if ((e.key === 'r' || e.key === 'R') && projectState.gameOver) {
                resetProject();
            }
        });

        document.addEventListener('keyup', (e) => {
            keys[e.key] = false;
        });

        // ğŸŒ ë°”ë‚˜ë‚˜ ìƒì„± í•¨ìˆ˜
        function createBanana() {
            bananas.push({
                x: player.x + player.width,
                y: player.y + player.height / 2,
                width: 20,
                height: 10,
                speed: 12,
                color: '#FFFF00'
            });
            
            console.log("âœ… ì²´í¬í¬ì¸íŠ¸ 5 ì™„ë£Œ: ë°”ë‚˜ë‚˜ ë°œì‚¬ ì‹œìŠ¤í…œ ì‘ë™ í™•ì¸");
        }

        // ğŸ‘¾ ì  ìƒì„± í•¨ìˆ˜
        function createEnemy() {
            enemies.push({
                x: canvas.width,
                y: 300,
                width: 40,
                height: 50,
                speed: -3,
                color: '#FF0000',
                isSlipping: false
            });
            
            if (!checkpoints[5].completed) {
                completeCheckpoint(6); // ì  ìƒì„± ì²´í¬í¬ì¸íŠ¸
            }
        }

        // âœ… ì²´í¬í¬ì¸íŠ¸ ì™„ë£Œ í•¨ìˆ˜
        function completeCheckpoint(id) {
            if (!checkpoints[id - 1].completed) {
                checkpoints[id - 1].completed = true;
                projectState.completedCheckpoints++;
                
                const checkpointElement = document.getElementById(`checkpoint${id}`);
                if (checkpointElement) {
                    checkpointElement.classList.remove('incomplete');
                }
                
                console.log(`âœ… ì²´í¬í¬ì¸íŠ¸ ${id} ì™„ë£Œ: ${checkpoints[id - 1].name}`);
                updateProjectStatus();
                
                // ë‹¨ê³„ ì§„í–‰ ì²´í¬
                checkPhaseProgress();
            }
        }

        // ğŸ“Š ë‹¨ê³„ ì§„í–‰ í™•ì¸
        function checkPhaseProgress() {
            const currentPhaseCheckpoints = checkpoints.filter(cp => cp.phase === projectState.currentPhase);
            const completedInPhase = currentPhaseCheckpoints.filter(cp => cp.completed).length;
            
            if (completedInPhase === currentPhaseCheckpoints.length && projectState.currentPhase < projectState.totalPhases) {
                // í˜„ì¬ ë‹¨ê³„ ì™„ë£Œ - ë‹¤ìŒ ë‹¨ê³„ë¡œ
                projectState.currentPhase++;
                projectState.phaseStartTime = Date.now();
                
                console.log(`ğŸ¯ Phase ${projectState.currentPhase} ì‹œì‘!`);
                updateProjectStatus();
            }
            
            // í”„ë¡œì íŠ¸ ì™„ë£Œ ì²´í¬
            if (projectState.completedCheckpoints === projectState.totalCheckpoints) {
                projectState.projectComplete = true;
                console.log("ğŸ‰ í”„ë¡œì íŠ¸ ì™„ë£Œ! ëª¨ë“  ì²´í¬í¬ì¸íŠ¸ ë‹¬ì„±!");
            }
        }

        // ğŸ“Š í”„ë¡œì íŠ¸ ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateProjectStatus() {
            document.getElementById('scoreValue').textContent = projectState.score;
            document.getElementById('phaseValue').textContent = `${projectState.currentPhase}/${projectState.totalPhases}`;
            document.getElementById('checkpointValue').textContent = `${projectState.completedCheckpoints}/${projectState.totalCheckpoints}`;
            
            const progress = (projectState.completedCheckpoints / projectState.totalCheckpoints) * 100;
            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = progress + '%';
            progressFill.textContent = `${progress.toFixed(0)}% ì™„ë£Œ`;
            
            if (projectState.currentPhase <= phaseObjectives.length) {
                document.getElementById('currentObjective').textContent = phaseObjectives[projectState.currentPhase - 1];
                document.getElementById('phaseInfo').textContent = `ğŸ¯ Phase ${projectState.currentPhase}: ${getPhaseTitle(projectState.currentPhase)}`;
            }
        }

        // ğŸ“‹ ë‹¨ê³„ ì œëª© ê°€ì ¸ì˜¤ê¸°
        function getPhaseTitle(phase) {
            const titles = [
                "í”„ë¡œì íŠ¸ ì„¤ì • - ê²Œì„ì´ ì‹¤í–‰ë˜ëŠ” ë¹ˆ í™”ë©´ ë§Œë“¤ê¸°",
                "ì£¼ì¸ê³µ ë§Œë“¤ê¸° - í™”ë©´ì— ì›ìˆ­ì´ ìºë¦­í„° í‘œì‹œ",
                "ì»¨íŠ¸ë¡¤ ì¶”ê°€ - í™”ì‚´í‘œí‚¤ ì´ë™ê³¼ ìŠ¤í˜ì´ìŠ¤ë°” ì í”„",
                "ë°”ë‚˜ë‚˜ ì‹œìŠ¤í…œ - Zí‚¤ë¡œ ë°”ë‚˜ë‚˜ ë˜ì§€ê¸° êµ¬í˜„",
                "ì ê³¼ ì¶©ëŒ - ì›€ì§ì´ëŠ” ì  ìƒì„±ê³¼ ì¶©ëŒ ê°ì§€",
                "ê²Œì„ ì™„ì„± - ì ìˆ˜ ì‹œìŠ¤í…œê³¼ ê²Œì„ ì˜¤ë²„ êµ¬í˜„"
            ];
            return titles[phase - 1] || "ì•Œ ìˆ˜ ì—†ëŠ” ë‹¨ê³„";
        }

        // â±ï¸ íƒ€ì´ë¨¸ ì—…ë°ì´íŠ¸
        function updateTimer() {
            const elapsed = Math.floor((Date.now() - projectState.startTime) / 1000);
            const minutes = Math.floor(elapsed / 60);
            const seconds = elapsed % 60;
            document.getElementById('timerDisplay').textContent = 
                `â±ï¸ ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // ğŸ¯ ê²Œì„ ë¡œì§ ì—…ë°ì´íŠ¸
        function updateGame() {
            if (projectState.gameOver && !projectState.projectComplete) return;

            // í”Œë ˆì´ì–´ ì´ë™
            let moved = false;
            if (keys['ArrowLeft'] && player.x > 0) {
                player.x -= player.speed;
                moved = true;
            }
            if (keys['ArrowRight'] && player.x < canvas.width - player.width) {
                player.x += player.speed;
                moved = true;
            }
            
            // ì²« ì´ë™ ì‹œ ì²´í¬í¬ì¸íŠ¸ ì™„ë£Œ
            if (moved && !checkpoints[2].completed) {
                completeCheckpoint(3);
            }

            // ì í”„
            if (keys[' '] && !player.isJumping) {
                player.velocityY = -15;
                player.isJumping = true;
                
                // ì²« ì í”„ ì‹œ ì²´í¬í¬ì¸íŠ¸ ì™„ë£Œ
                if (!checkpoints[3].completed) {
                    completeCheckpoint(4);
                }
            }

            // ì¤‘ë ¥ê³¼ ë¬¼ë¦¬
            player.velocityY += 0.8;
            player.y += player.velocityY;

            // ë°”ë‹¥ ì²´í¬
            if (player.y > player.groundY) {
                player.y = player.groundY;
                player.velocityY = 0;
                player.isJumping = false;
            }

            // ë°”ë‚˜ë‚˜ ì—…ë°ì´íŠ¸
            bananas.forEach((banana, index) => {
                banana.x += banana.speed;
                if (banana.x > canvas.width) {
                    bananas.splice(index, 1);
                }
            });

            // ì  ìƒì„± (3ì´ˆë§ˆë‹¤)
            if (Math.random() < 0.01 && projectState.currentPhase >= 5) {
                createEnemy();
            }

            // ì  ì—…ë°ì´íŠ¸
            enemies.forEach((enemy, index) => {
                if (enemy.isSlipping) {
                    enemy.x += 8; // ë¯¸ë„ëŸ¬ì§€ë©° ë¹ ë¥´ê²Œ ì´ë™
                    if (enemy.x > canvas.width + 100) {
                        enemies.splice(index, 1);
                    }
                } else {
                    enemy.x += enemy.speed;
                    if (enemy.x < -enemy.width) {
                        enemies.splice(index, 1);
                    }
                }
            });

            // ì¶©ëŒ ê²€ì‚¬
            checkCollisions();
        }

        // ğŸ’¥ ì¶©ëŒ ê²€ì‚¬
        function checkCollisions() {
            // ë°”ë‚˜ë‚˜ì™€ ì  ì¶©ëŒ
            bananas.forEach((banana, bIndex) => {
                enemies.forEach((enemy, eIndex) => {
                    if (!enemy.isSlipping &&
                        banana.x < enemy.x + enemy.width &&
                        banana.x + banana.width > enemy.x &&
                        banana.y < enemy.y + enemy.height &&
                        banana.y + banana.height > enemy.y) {
                        
                        // ì¶©ëŒ ì²˜ë¦¬
                        enemy.isSlipping = true;
                        enemy.color = '#FFA500';
                        bananas.splice(bIndex, 1);
                        projectState.score += 10;
                        
                        console.log(`ğŸ’¥ ì¶©ëŒ ê°ì§€! ì ìˆ˜ +10 (ì´ì : ${projectState.score})`);
                        
                        // ì¶©ëŒ ê°ì§€ ì²´í¬í¬ì¸íŠ¸
                        if (!checkpoints[6].completed) {
                            completeCheckpoint(7);
                        }
                        
                        // ì ìˆ˜ ì‹œìŠ¤í…œ ì²´í¬í¬ì¸íŠ¸
                        if (!checkpoints[7].completed) {
                            completeCheckpoint(8);
                        }
                    }
                });
            });

            // í”Œë ˆì´ì–´ì™€ ì  ì¶©ëŒ
            enemies.forEach((enemy, index) => {
                if (!enemy.isSlipping &&
                    player.x < enemy.x + enemy.width &&
                    player.x + player.width > enemy.x &&
                    player.y < enemy.y + enemy.height &&
                    player.y + player.height > enemy.y) {
                    
                    projectState.gameOver = true;
                    
                    // ê²Œì„ ì™„ì„± ì²´í¬í¬ì¸íŠ¸
                    if (!checkpoints[8].completed) {
                        completeCheckpoint(9);
                    }
                    
                    console.log("ğŸ’€ ê²Œì„ ì˜¤ë²„! í”„ë¡œì íŠ¸ ì™„ë£Œ í…ŒìŠ¤íŠ¸ ì„±ê³µ!");
                }
            });
        }

        // ğŸ¨ ë Œë”ë§
        function drawGame() {
            // í™”ë©´ ì§€ìš°ê¸°
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // ë°°ê²½ ê·¸ë¼ë””ì–¸íŠ¸
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#87ceeb');
            gradient.addColorStop(1, '#98fb98');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // ë•…
            ctx.fillStyle = '#8fbc8f';
            ctx.fillRect(0, 340, canvas.width, 60);

            // í”Œë ˆì´ì–´
            ctx.fillStyle = player.color;
            ctx.fillRect(player.x, player.y, player.width, player.height);
            
            // í”Œë ˆì´ì–´ ì–¼êµ´
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.arc(player.x + 25, player.y + 20, 15, 0, Math.PI * 2);
            ctx.fill();
            
            // ëˆˆ
            ctx.fillStyle = 'black';
            ctx.beginPath();
            ctx.arc(player.x + 20, player.y + 15, 3, 0, Math.PI * 2);
            ctx.arc(player.x + 30, player.y + 15, 3, 0, Math.PI * 2);
            ctx.fill();

            // ë°”ë‚˜ë‚˜ë“¤
            ctx.fillStyle = '#FFFF00';
            bananas.forEach(banana => {
                ctx.fillRect(banana.x, banana.y, banana.width, banana.height);
            });

            // ì ë“¤
            enemies.forEach(enemy => {
                ctx.fillStyle = enemy.color;
                ctx.fillRect(enemy.x, enemy.y, enemy.width, enemy.height);
                
                // ì  ì–¼êµ´
                ctx.fillStyle = 'white';
                ctx.fillRect(enemy.x + 8, enemy.y + 10, 4, 4);
                ctx.fillRect(enemy.x + 20, enemy.y + 10, 4, 4);
            });

            // ì ìˆ˜ í‘œì‹œ
            ctx.fillStyle = '#2c3e50';
            ctx.font = 'bold 20px Arial';
            ctx.fillText(`ì ìˆ˜: ${projectState.score}`, 10, 30);

            // í”„ë¡œì íŠ¸ ì™„ë£Œ í™”ë©´
            if (projectState.projectComplete) {
                ctx.fillStyle = 'rgba(46, 204, 113, 0.9)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = 'white';
                ctx.font = 'bold 36px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('ğŸ‰ í”„ë¡œì íŠ¸ ì™„ë£Œ!', canvas.width/2, canvas.height/2 - 40);
                
                ctx.font = '20px Arial';
                ctx.fillText('ëª¨ë“  ì²´í¬í¬ì¸íŠ¸ ë‹¬ì„±!', canvas.width/2, canvas.height/2);
                ctx.fillText(`ìµœì¢… ì ìˆ˜: ${projectState.score}ì `, canvas.width/2, canvas.height/2 + 30);
                
                const elapsed = Math.floor((Date.now() - projectState.startTime) / 1000);
                ctx.fillText(`ì™„ë£Œ ì‹œê°„: ${Math.floor(elapsed/60)}ë¶„ ${elapsed%60}ì´ˆ`, canvas.width/2, canvas.height/2 + 60);
                
                ctx.textAlign = 'left';
            }
            // ê²Œì„ ì˜¤ë²„ í™”ë©´
            else if (projectState.gameOver) {
                ctx.fillStyle = 'rgba(231, 76, 60, 0.9)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = 'white';
                ctx.font = 'bold 36px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('ğŸ“‹ í…ŒìŠ¤íŠ¸ ì™„ë£Œ', canvas.width/2, canvas.height/2 - 40);
                
                ctx.font = '18px Arial';
                ctx.fillText('ê²Œì„ ì˜¤ë²„ ê¸°ëŠ¥ ì •ìƒ ì‘ë™', canvas.width/2, canvas.height/2);
                ctx.fillText(`ë‹¬ì„± ì ìˆ˜: ${projectState.score}ì `, canvas.width/2, canvas.height/2 + 25);
                ctx.fillText('Rí‚¤ë¥¼ ëˆŒëŸ¬ í”„ë¡œì íŠ¸ ì¬ì‹œì‘', canvas.width/2, canvas.height/2 + 50);
                
                ctx.textAlign = 'left';
            }
        }

        // ğŸ”„ í”„ë¡œì íŠ¸ ë¦¬ì…‹
        function resetProject() {
            projectState = {
                currentPhase: 1,
                totalPhases: 6,
                completedCheckpoints: 0,
                totalCheckpoints: 9,
                score: 0,
                startTime: Date.now(),
                phaseStartTime: Date.now(),
                gameOver: false,
                projectComplete: false
            };
            
            player.x = 100;
            player.y = 300;
            player.velocityY = 0;
            player.isJumping = false;
            
            bananas = [];
            enemies = [];
            
            // ì²´í¬í¬ì¸íŠ¸ ë¦¬ì…‹
            checkpoints.forEach((checkpoint, index) => {
                checkpoint.completed = false;
                const element = document.getElementById(`checkpoint${index + 1}`);
                if (element) {
                    element.classList.add('incomplete');
                }
            });
            
            updateProjectStatus();
            console.log("ğŸ”„ í”„ë¡œì íŠ¸ ì¬ì‹œì‘ - ëª¨ë“  ì²´í¬í¬ì¸íŠ¸ ì´ˆê¸°í™”");
        }

        // ğŸ® ê²Œì„ ë£¨í”„
        function gameLoop() {
            updateGame();
            drawGame();
            updateTimer();
            requestAnimationFrame(gameLoop);
        }

        // ğŸš€ í”„ë¡œì íŠ¸ ì‹œì‘
        console.log("ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ!");
        console.log("ğŸ¯ íŠ¹ì§•:");
        console.log("  - ì²´ê³„ì ì¸ ë‹¨ê³„ë³„ ì§„í–‰");
        console.log("  - ëª…í™•í•œ ì²´í¬í¬ì¸íŠ¸");
        console.log("  - ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© ì¶”ì ");
        console.log("  - ì‹œê°„ ê´€ë¦¬ ì‹œìŠ¤í…œ");
        console.log("  - ì™„ë£Œë„ ì¸¡ì • ë° ë¶„ì„");
        
        // ì´ˆê¸° ìƒíƒœ ì„¤ì •
        updateProjectStatus();
        
        // ì²« ë²ˆì§¸ ì²´í¬í¬ì¸íŠ¸ ì™„ë£Œ (í™”ë©´ í‘œì‹œ)
        setTimeout(() => {
            completeCheckpoint(1);
        }, 1000);
        
        // ë‘ ë²ˆì§¸ ì²´í¬í¬ì¸íŠ¸ ì™„ë£Œ (ìºë¦­í„° ìƒì„±)
        setTimeout(() => {
            completeCheckpoint(2);
        }, 2000);
        
        gameLoop();
    </script>
</body>
</html>